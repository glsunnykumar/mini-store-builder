<mat-card class="profile-card" *ngIf="user; else loadingTemplate">
  <h2>ðŸ‘¤ My Profile</h2>

  <div class="avatar-section">
    <img
      *ngIf="photoURL; else defaultAvatar"
      [src]="photoURL"
      alt="Profile photo"
      class="avatar"
    />
    <ng-template #defaultAvatar>
      <mat-icon class="avatar-placeholder">account_circle</mat-icon>
    </ng-template>

    <label class="upload-btn">
      <mat-icon>photo_camera</mat-icon> Change Photo
      <input type="file" (change)="onFileSelected($event)" hidden />
    </label>
  </div>

  <div class="form-section">
    <mat-form-field appearance="outline">
      <mat-label>Display Name</mat-label>
      <input matInput [(ngModel)]="displayName" />
    </mat-form-field>

    <mat-form-field appearance="outline" disabled>
      <mat-label>Email</mat-label>
      <input matInput [value]="email" />
    </mat-form-field>
  </div>

  <div class="actions">
    <button mat-flat-button color="primary" (click)="saveProfile()" [disabled]="loading">
      <mat-icon>save</mat-icon> Save Changes
    </button>
  </div>
</mat-card>

<ng-template #loadingTemplate>
  <div class="loading-container">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
